<?xml version="1.0"?>

<PropertyList>

 <path>panels_mlu_left-console.ac</path>

 <!--<animation>
  <object-name>ANTI_G</object-name>
  <object-name>AUDIO-1</object-name>
  <object-name>AUDIO-2</object-name>
  <object-name>ECM</object-name>
  <object-name>ELEC</object-name>
  <object-name>EPU_0</object-name>
  <object-name>EPU_1</object-name>
  <object-name>EXT_LIGHTING</object-name>
  <object-name>FLIGHT_CONTROL</object-name>
  <object-name>FUEL</object-name>
  <object-name>GROWTH.001</object-name>
  <object-name>GROWTH.002</object-name>
  <object-name>GROWTH.003</object-name>
  <object-name>GROWTH.004</object-name>
  <object-name>IFF.001</object-name>
  <object-name>JET_FUEL</object-name>
  <object-name>LEFT_CONSOLE.001</object-name>
  <object-name>MANUAL_PITCH</object-name>
  <object-name>MANUAL_TRIM</object-name>
  <object-name>TEST</object-name>
  <object-name>UHF</object-name>
  <type>material</type>
  <emission>
   <factor-prop>controls/lighting/lighting-panel/flood-inst-pnl</factor-prop>
   <red>0.45</red>
   <green>0.34</green>
   <blue>0.18</blue>
  </emission>
 </animation>-->

 <effect>
        <inherits-from>Aircraft/f16/Models/Effects/f16panel-left</inherits-from>
        <parameters>
            <implicit-lightmap-threshold-low type="float">0.2</implicit-lightmap-threshold-low>
            <implicit-lightmap-threshold-high type="float">0.7</implicit-lightmap-threshold-high>
        </parameters>
        <object-name>ANTI_G</object-name>
        <object-name>AUDIO-1</object-name>
        <object-name>AUDIO-2</object-name>
        <object-name>ECM</object-name>
        <object-name>ELEC</object-name>
        <object-name>EPU_0</object-name>
        <object-name>EPU_1</object-name>
        <object-name>EXT_LIGHTING</object-name>
        <object-name>FLIGHT_CONTROL</object-name>
        <object-name>FUEL</object-name>
        <object-name>GROWTH.001</object-name>
        <object-name>GROWTH.002</object-name>
        <object-name>GROWTH.003</object-name>
        <!--<object-name>GROWTH.004</object-name>-->
        <object-name>IFF.001</object-name>
        <object-name>JET_FUEL</object-name>
        <object-name>LEFT_CONSOLE.001</object-name>
        <object-name>MANUAL_PITCH</object-name>
        <object-name>MANUAL_TRIM</object-name>
        <object-name>TEST</object-name>
        <object-name>UHF</object-name>
    </effect>

 <animation>
  <object-name>EPU_RUN_light</object-name><!-- EPU running -->
  <type>select</type>
  <condition>
    <greater-than>
      <property>fdm/jsbsim/elec/bus/batt-2</property>
      <value>20</value>
    </greater-than>
    <or>
      <greater-than>
        <property>fdm/jsbsim/elec/sources/epu-gen-volt</property>
        <value>100</value>
      </greater-than>
      <property>controls/test/test-panel/mal-ind-lts</property>
    </or>
  </condition>
 </animation>

  <animation>
  <object-name>EPU_RUN_light</object-name>
  <type>material</type>
  <emission>
   <red>0</red>
   <green>1</green>
   <blue>0</blue>
  </emission>
 </animation>

 <animation>
  <object-name>light_a</object-name>
  <type>material</type>
  <condition>
    <greater-than>
      <property>fdm/jsbsim/elec/bus/batt-2</property>
      <value>20</value>
    </greater-than>
    <or>
      <greater-than>
        <property>fdm/jsbsim/elec/bus/flcc/a</property>
        <value>20</value>
      </greater-than>
      <property>controls/test/test-panel/mal-ind-lts</property>
    </or>
  </condition>
  <emission>
   <red>1</red>
   <green>1</green>
   <blue>1</blue>
  </emission>
 </animation>

  <animation>
  <object-name>light_b</object-name>
  <type>material</type>
  <condition>
    <greater-than>
      <property>fdm/jsbsim/elec/bus/batt-2</property>
      <value>20</value>
    </greater-than>
    <or>
      <greater-than>
        <property>fdm/jsbsim/elec/bus/flcc/b</property>
        <value>20</value>
      </greater-than>
      <property>controls/test/test-panel/mal-ind-lts</property>
    </or>
  </condition>
  <emission>
   <red>1</red>
   <green>1</green>
   <blue>1</blue>
  </emission>
 </animation>

  <animation>
  <object-name>light_c</object-name>
  <type>material</type>
  <condition>
    <greater-than>
      <property>fdm/jsbsim/elec/bus/batt-2</property>
      <value>20</value>
    </greater-than>
    <or>
      <greater-than>
        <property>fdm/jsbsim/elec/bus/flcc/c</property>
        <value>20</value>
      </greater-than>
      <property>controls/test/test-panel/mal-ind-lts</property>
    </or>
  </condition>
  <emission>
   <red>1</red>
   <green>1</green>
   <blue>1</blue>
  </emission>
 </animation>

  <animation>
  <object-name>light_d</object-name>
  <type>material</type>
  <condition>
    <greater-than>
      <property>fdm/jsbsim/elec/bus/batt-2</property>
      <value>20</value>
    </greater-than>
    <or>
      <greater-than>
        <property>fdm/jsbsim/elec/bus/flcc/d</property>
        <value>20</value>
      </greater-than>
      <property>controls/test/test-panel/mal-ind-lts</property>
    </or>
  </condition>
  <emission>
   <red>1</red>
   <green>1</green>
   <blue>1</blue>
  </emission>
 </animation>

  <animation>
  <object-name>light_epu_gen</object-name><!-- EPU commanded on, but does not supply power -->
  <type>material</type>
    <condition>
    <greater-than>
      <property>fdm/jsbsim/elec/bus/batt-2</property>
      <value>20</value>
    </greater-than>
    <or>
      <and>
        <greater-than>
          <property>fdm/jsbsim/elec/sources/epu-on</property>
          <value>0</value>
        </greater-than>
        <less-than>
          <property>fdm/jsbsim/elec/sources/epu-gen-volt</property>
          <value>100</value>
        </less-than>
      </and>
      <property>controls/test/test-panel/mal-ind-lts</property>
    </or>
  </condition>
  <emission>
   <red>1</red>
   <green>1</green>
   <blue>1</blue>
  </emission>
 </animation>

  <animation>
  <object-name>light_epu_pmg</object-name><!-- EPU commanded on, but FBW does not get 28 V -->
  <type>material</type>
  <condition>
    <greater-than>
      <property>fdm/jsbsim/elec/bus/batt-2</property>
      <value>20</value>
    </greater-than>
    <or>
      <and>
        <greater-than>
          <property>fdm/jsbsim/elec/sources/epu-on</property>
          <value>0</value>
        </greater-than>
        <not>
          <and>
            <greater-than>
              <property>fdm/jsbsim/elec/bus/flcc/a</property>
              <value>26</value>
            </greater-than>
            <greater-than>
              <property>fdm/jsbsim/elec/bus/flcc/b</property>
              <value>26</value>
            </greater-than>
            <greater-than>
              <property>fdm/jsbsim/elec/bus/flcc/c</property>
              <value>26</value>
            </greater-than>
            <greater-than>
              <property>fdm/jsbsim/elec/bus/flcc/d</property>
              <value>26</value>
            </greater-than>
          </and>
        </not>
      </and>
      <property>controls/test/test-panel/mal-ind-lts</property>
    </or>
  </condition>
  <emission>
   <red>1</red>
   <green>1</green>
   <blue>1</blue>
  </emission>
 </animation>

  <animation>
  <object-name>light_fail</object-name><!-- battery fails -->
  <type>material</type>
  <condition>
    <greater-than>
      <property>fdm/jsbsim/elec/bus/batt-2</property>
      <value>20</value>
    </greater-than>
    <or>
        <less-than>
          <property>fdm/jsbsim/elec/sources/battery-volt</property>
          <value>20</value>
        </less-than>
        <property>controls/test/test-panel/mal-ind-lts</property>
    </or>
  </condition>
  <emission>
   <red>1</red>
   <green>1</green>
   <blue>1</blue>
  </emission>
 </animation>

  <animation>
  <object-name>light_main</object-name><!-- MAIN gen is not connected to buses -->
  <type>material</type>
  <condition>
    <greater-than>
      <property>fdm/jsbsim/elec/bus/batt-2</property>
      <value>20</value>
    </greater-than>
    <or>
        <less-than>
          <property>fdm/jsbsim/elec/switches/main-pwr</property>
          <value>2</value>
        </less-than>
        <property>controls/test/test-panel/mal-ind-lts</property>
    </or>
  </condition>
  <emission>
   <red>1</red>
   <green>1</green>
   <blue>1</blue>
  </emission>
 </animation>

  <animation>
  <object-name>light_pmg</object-name><!-- FBW does not get power -->
  <type>material</type>
  <condition>
    <greater-than>
      <property>fdm/jsbsim/elec/bus/batt-2</property>
      <value>20</value>
    </greater-than>
    <or>
        <not>
          <and>
            <greater-than>
              <property>fdm/jsbsim/elec/bus/flcc/a</property>
              <value>20</value>
            </greater-than>
            <greater-than>
              <property>fdm/jsbsim/elec/bus/flcc/b</property>
              <value>20</value>
            </greater-than>
            <greater-than>
              <property>fdm/jsbsim/elec/bus/flcc/c</property>
              <value>20</value>
            </greater-than>
            <greater-than>
              <property>fdm/jsbsim/elec/bus/flcc/d</property>
              <value>20</value>
            </greater-than>
          </and>
        </not>
      <property>controls/test/test-panel/mal-ind-lts</property>
    </or>
  </condition>
  <emission>
   <red>1</red>
   <green>1</green>
   <blue>1</blue>
  </emission>
 </animation>

  <animation>
  <object-name>light_stby</object-name><!-- stby gen not available-->
  <type>material</type>
  <condition>
    <greater-than>
      <property>fdm/jsbsim/elec/bus/batt-2</property>
      <value>20</value>
    </greater-than>
    <or>
        <not>
          <property>fdm/jsbsim/elec/failures/stby-gen/serviceable</property>
        </not>
      <property>controls/test/test-panel/mal-ind-lts</property>
    </or>
  </condition>
  <emission>
   <red>1</red>
   <green>1</green>
   <blue>1</blue>
  </emission>
 </animation>

  <animation>
  <object-name>light_to</object-name><!-- battery goes to fbw and voltage there is less than 25 -->
  <type>material</type>
  <condition>
    <greater-than>
      <property>fdm/jsbsim/elec/bus/batt-2</property>
      <value>20</value>
    </greater-than>
    <or>
        <not>
          <and>
            <greater-than>
              <property>fdm/jsbsim/elec/bus/flcc/a</property>
              <value>25</value>
            </greater-than>
            <greater-than>
              <property>fdm/jsbsim/elec/bus/flcc/b</property>
              <value>25</value>
            </greater-than>
            <greater-than>
              <property>fdm/jsbsim/elec/bus/flcc/c</property>
              <value>25</value>
            </greater-than>
            <greater-than>
              <property>fdm/jsbsim/elec/bus/flcc/d</property>
              <value>25</value>
            </greater-than>
          </and>
        </not>
      <property>controls/test/test-panel/mal-ind-lts</property>
    </or>
  </condition>
  <emission>
   <red>1</red>
   <green>1</green>
   <blue>1</blue>
  </emission>
 </animation>

 <!-- PICK ANIMATIONS -->

  <!-- External Lighting Panel -->
 
   <animation>
    <type>pick</type>
    <visible>true</visible>
    <object-name>HS_MASTER_NORM</object-name>
    <action>
     <button>0</button>
     <repeatable>true</repeatable>
     <binding>
      <command>nasal</command>
      <script>
                print("EPIC01, call func");
                f16_switches.toggleMaster();
      </script>
     </binding>
    </action>
   </animation>
   
   <animation>
    <type>pick</type>
    <visible>true</visible>
    <object-name>HS_ANTI_COLLISION</object-name>
    <action>
     <button>0</button>
     <repeatable>true</repeatable>
     <binding>
      <command>nasal</command>
      <script>
                f16_switches.toggleAntiCollision();
      </script>
     </binding>
    </action>
   </animation>

   <animation>
    <type>pick</type>
    <visible>true</visible>
    <object-name>HS_POS_LIGHTS</object-name>
    <action>
     <button>0</button>
     <repeatable>true</repeatable>
     <binding>
      <command>nasal</command>
      <script>
                f16_switches.togglePosLightsFlash();
      </script>
     </binding>
    </action>
   </animation>
   
   <animation>
    <type>pick</type>
    <visible>true</visible>
    <object-name>HS_WING-TAIL_UP</object-name>
    <action>
     <button>0</button>
     <repeatable>true</repeatable>
     <binding>
      <command>nasal</command>
      <script>
                f16_switches.toggleWingTailUp();
      </script>
     </binding>
    </action>
   </animation>

   <animation>
    <type>pick</type>
    <visible>true</visible>
    <object-name>HS_WING-TAIL_DN</object-name>
    <action>
     <button>0</button>
     <repeatable>true</repeatable>
     <binding>
      <command>nasal</command>
      <script>
                f16_switches.toggleWingTailDn();
      </script>
     </binding>
    </action>
   </animation>
 
   <animation>
    <type>pick</type>
    <visible>true</visible>
    <object-name>HS_FUSELAGE_UP</object-name>
    <action>
     <button>0</button>
     <repeatable>true</repeatable>
     <binding>
      <command>nasal</command>
      <script>
                f16_switches.toggleFuselageUp();
      </script>
     </binding>
    </action>
   </animation>

   <animation>
    <type>pick</type>
    <visible>true</visible>
    <object-name>HS_FUSELAGE_DN</object-name>
    <action>
     <button>0</button>
     <repeatable>true</repeatable>
     <binding>
      <command>nasal</command>
      <script>
                f16_switches.toggleFuselageDn();
      </script>
     </binding>
    </action>
   </animation>

   <animation>
    <type>pick</type>
    <visible>true</visible>
    <object-name>HS_FORM-KNOB_UP</object-name>
    <action>
     <button>0</button>
     <repeatable>true</repeatable>
     <binding>
      <command>nasal</command>
      <script>
                f16_switches.toggleFormationUp();
      </script>
     </binding>
    </action>
   </animation>
   
   <animation>
    <type>pick</type>
    <visible>true</visible>
    <object-name>HS_FORM-KNOB_DN</object-name>
    <action>
     <button>0</button>
     <repeatable>true</repeatable>
     <binding>
      <command>nasal</command>
      <script>
                f16_switches.toggleFormationDn();
      </script>
     </binding>
    </action>
   </animation>

   <animation>
    <type>pick</type>
    <visible>true</visible>
    <object-name>HS_AR-KNOB_UP</object-name>
    <action>
     <button>0</button>
     <repeatable>true</repeatable>
     <binding>
      <command>nasal</command>
      <script>
                f16_switches.toggleAerialRefuelingUp();
      </script>
     </binding>
    </action>
   </animation>
   
   <animation>
    <type>pick</type>
    <visible>true</visible>
    <object-name>HS_AR-KNOB_DN</object-name>
    <action>
     <button>0</button>
     <repeatable>true</repeatable>
     <binding>
      <command>nasal</command>
      <script>
                f16_switches.toggleAerialRefuelingDn();
      </script>
     </binding>
    </action>
   </animation>


  <!-- Test Panel -->

   <animation>
    <type>pick</type>
    <visible>true</visible>
    <object-name>HS_MAL_IND_LTS</object-name>
    <action>
     <button>0</button>
     <repeatable>true</repeatable>
     <binding>
      <command>nasal</command>
      <script>
                f16_switches.toggleMalIndLts();
      </script>
     </binding>
    </action>
   </animation>

 


 <!-- SWITCH ANIMATIONS -->

  <!-- External Lighting Panel -->

 <animation>
  <type>rotate</type>
  <object-name>SW_MASTER</object-name>
  <property>controls/lighting/ext-lighting-panel/master</property>
  <factor>40</factor>
  <offset-deg>-20</offset-deg>
  <center>
   <x-m>0.66</x-m>
   <y-m>-0.32</y-m>
   <z-m>0.0</z-m>
  </center>
  <axis>
   <x>1</x>
   <y>0</y>
   <z>0</z>
  </axis>
 </animation>

 <animation>
  <type>rotate</type>
  <object-name>SW_ANTI_COLLISION</object-name>
  <property>controls/lighting/ext-lighting-panel/anti-collision</property>
  <factor>40</factor>
  <offset-deg>-20</offset-deg>
  <center>
   <x-m>0.71</x-m>
   <y-m>-0.37</y-m>
   <z-m>0.0</z-m>
  </center>
  <axis>
   <x>1</x>
   <y>0</y>
   <z>0</z>
  </axis>
 </animation>

 <animation>
  <type>rotate</type>
  <object-name>SW_POS_LIGHTS</object-name>
  <property>controls/lighting/ext-lighting-panel/pos-lights-flash</property>
  <factor>40</factor>
  <offset-deg>-20</offset-deg>
  <center>
   <x-m>0.67</x-m>
   <y-m>-0.37</y-m>
   <z-m>0.0</z-m>
  </center>
  <axis>
   <x>1</x>
   <y>0</y>
   <z>0</z>
  </axis>
 </animation>
 
 <animation>
  <type>rotate</type>
  <object-name>SW_WING-TAIL</object-name>
  <property>controls/lighting/ext-lighting-panel/wing-tail</property>
  <factor>20</factor>
  <offset-deg>-20</offset-deg>
  <center>
   <x-m>0.65</x-m>
   <y-m>-0.36</y-m>
   <z-m>0.0</z-m>
  </center>
  <axis>
   <x>1</x>
   <y>0</y>
   <z>0</z>
  </axis>
 </animation>
 
 <animation>
  <type>rotate</type>
  <object-name>SW_FUSELAGE</object-name>
  <property>controls/lighting/ext-lighting-panel/wing-tail</property>
  <factor>20</factor>
  <offset-deg>-20</offset-deg>
  <center>
   <x-m>0.61</x-m>
   <y-m>-0.36</y-m>
   <z-m>0.0</z-m>
  </center>
  <axis>
   <x>1</x>
   <y>0</y>
   <z>0</z>
  </axis>
 </animation>


  <!-- Test Panel -->
  <!-- FIXME -->

</PropertyList>
